# Keyword

## Virtual Machine

- 물리적 하드웨어 시스템에 구축되어 자체 CPU, 메모리, 네트워크 인터페이스 및 스토리지를 갖추고 가상 컴퓨터 시스템으로 작동하는 가상환경.
- 다시 말해, 물리적 컴퓨터에서 실행되는 별도의 물리적 컴퓨터.
- 프로세스 가상 머신 : 플랫폼 독립적인 환경에서 컴퓨터 프로그램 실행, 모든 플랫폼에서 동일한 방식으로 실행. (e.g. JVM)
- 시스템 가상 머신 : 호스트 컴퓨터의 물리적 리소스를 여러 가상 머신 간에 공유할 수 있음.
- 가상머신 구현 방법
  - 에뮬레이션
    - 모든 부품의 모든 기능을 소프트웨어적으로 구현
    - 속도가 가장 떨어지지만 범용성은 가장 뛰어나다.
    - 명령어가 수행될 때마다 가상 CPU가 처리할 내용을 모델에 따라 업데이트
  - 가상화
    - 주요 부품의 구현에서 하드웨어의 기능 지원을 받는다.
    - 속도가 빠르지만 하드웨어에 종속되기 때문에 범용성이 떨어진다.(기계어 관련)
    - 명령어를 대부분 실제 CPU에서 직접 실행하지만, 특수 케이스에 해당하는 명령어만 별도 처리
  - 반가상화
    - 가상 머신 내에 설치될 OS에 수정을 가하거나 드라이버를 사용하여 하드웨어에 직접 접근하는 방법
    - 속도가 가장 빠르지만, 하드웨어, 운영체제, 드라이버에 종속성이 생겨 범용성이 가장 떨어진다.
    - 기계어를 미리 다른 명령어로 대체하고, 관련 기능을 사용할 땐 하이퍼바이저와 별도 통신 채널을 활용하는 방법
- 호스트와 게스트
  - 호스트
    - 하이퍼바이저가 탑재된 물리적 머신
  - 게스트
    - 하이퍼바이저로 인해 리소스를 사용하는 머신
- 하이퍼바이저
  - 가상 머신을 생성하고 구동하는 소프트웨어
  - VM 리소스의 일정을 관리하여 물리적 하드웨어에 요청
  - 유형 1 (네이티브 or 베어 메탈 하이퍼바이저)
    - <img src="https://padawanr0k.github.io/static/ac63d45f296ba929917c3dc5bcb27f22/73517/Untitled.png" />
    - 호스트의 하드웨어에서 직접 구동되어 게스트 운영 체제 관리
    - 하이퍼바이저에 의해 하드웨어에 직접 예약
  - 유형 2 (호스트 하이퍼바이저)
    - <img src="https://padawanr0k.github.io/static/d9ec3511215eb1534d6a27b3ff5d069e/6fa18/Untitled_1.png" />
    - 소프트웨어 레이어 또는 애플리케이션
    - 개인 사용자에게 이상적
    - Virtual Box도 이에 해당

## GRUB

- GNU에서 개발한 멀티부트로더
- 윈도우와 리눅스등 모두 사용될 수 있음
- 하드디스크 첫번째 부트섹터인 MBR(Master Boot Record)에 저장된다.
- ROM-BIOS -> 시스템 제어권을 가지고 하드웨어 점검 -> MBR에 제어권 넘겨줌.

## CentOS vs Debian

- CentOS
  - RHEL의 무료배포판 (fork RHEL, open source project)
  - 많은 대기업에서 사용하고 있음.
  - 사후지원이 없기 때문에 리눅스에 대한 지식 필요.
  - RHEL업데이트와 공백 발생할 수 있기 때문에 프로그래머 인력이 필요함 -> 대기업에서 사용
  - 안정성을 중시하는 은행 및 공공기관은 RHEL 선호
  - RPM패키지 + YUM/DNF 패키지 관리자
- Debian
  - 리눅스에서 파생되지 않고 독립적인 프로젝트 (리눅스 커널과 다른 때도 있었음... amazing)
  - open source project로, 자유 소프트웨어 지향
  - 마찬가지로 업데이트 주기가 길다.
  - 충분한 사후지원이 어려워 기업보단 개인이 사용
  - 유지보수가 쉽다.
    - deb 패키지 : 의존성 관련 정보 저장 -> 필요한 외부 프로그램, 라이브러리 쉽게 알 수 있다.
    - 의존 패키지를 데비안에서 운영하는 외부 저장소에서 가져와 설치할 수 있다. (자동으로 설정 및 설치 가능)
    - bin package, source package admin -> apt, aptitude, dselect, synaptic
    - 패키지저장소 : stable, testing, unstable -> 이름과 같다.
- 차이점
  - 업그레이드
    - CenOS는 마이너 버전 업데이트, Debian은 메이저 버전 관리만 지원한다.
  - 사후 지원
    - CentOS는 버그 리포트를 Red Hat에서 받아 RHEL에 적용시키기 때문에 비교적 빠르다.
    - Debian은 커뮤니티에서 관리하기 때문에 빠르지 않을 수 있다.
  - 파일 시스템
    - CentOS
      - XFS
    - Debian
      - EXT4

## SELinux, AppArmor

- 보안 모델
  - DAC (임의 접근 제어, Discretionary Access Control)
    - 소유자가 사용자 또는 그룹이 자원에 접근하는 것을 조절
    - 주체(소유자)가 객체(파일)을 제어
    - 계정과 소유권에만 기반
  - MAC (강제 접근 제어, Mandatory Access Control)
    - 정의된 정책을 활용해 사용자와 프로세스의 행동을 제어
    - 파일의 유형, 사용자의 역할, 프로그램의 기능과 신뢰도, 데이터의 민감성과 무결성 고려
- SELinux (DAC)
  - 미국 국가 안보국에서 개발한 커널 레벨의 보안 모듈
  - 기존 접근 통제 규칙보다 먼저 동작
  - 권한에 절대적 (file label)
    - 강력한 접근 통제 정책
  - 설정이 어렵다... (disable SELinux)
  - RHEL/CentOS 에서 사용
- Apparmor (MAC)
  - 마찬가지로 커널 레벨의 보안 모듈
  - 리눅스 보안 모듈(LSM) 커널 인터페이스를 사용해서 구현 됨
  - SELinux 보다 쉬움
  - 파일의 경로를 통해 작동 (정책 파일/프로필에서 어떤 어플리케이션이 어디로 접근 가능한지 허용)
  - enforce, complain mode
    - enforce : 허가되지 않은 파일에 접근하는 것을 거부
    - complain : 실질적 보안을 제공하는 것이 아니라, 어플리케이션이 해야할 행동이 아닌 경우 logging

## APT, APTitude

- APT
  - Advanced Packging Tool
  - Low-level 패키지 매니저로 다른 High-level 패키지 매니저에 의해 사용될 수 있다.
  - deb를 관리하기 위해 만들어졌지만 현재는 rpm 패키지도 호환 가능
  - CLI only
  - 설치할 패키지를 입력하면 '/etc/apt/sources.list'에 지정된 소스 목록에서 해당 패키지 + 종속성 목록과 함께 찾아 자동으로 설치한다.
  - '-auto-remove', 'apt-get autoremove'를 명시하면 사용되지 않는 패키지를 삭제한다.
- Aptitude
  - 사용자 인터페이스를 추가해 사용자가 대화형으로 패키지를 검색해 설치, 제거할 수 있는 High-level 패키지 관리 도구이다.
  - APT 보다 더 방대하고 apt-get, apt-cache를 포함한 기능들을 포함한다.
  - 어떤 패키지를 삭제할 때, Aptitude는 사용되지 않는 패키지 까지 삭제한다.
  - why, why-not 명령어를 통해 동작이 왜 되는지, 안 되는지를 알려 준다.
  - 충돌이 일어날 경우 해결 방법을 제시한다. (apt는 바로 종료)

## LVM, Logical Volume Manage

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Lvm.svg/220px-Lvm.svg.png" />

- 공간을 효율적이고 유연하게 관리하기 위한 커널의 한 부분
- LVM이 아닌 경오 하드 디스크 파티셔닝을 한 후 OS영역에 마운트하여 read/write를 수행,
- 이 경우 저장 공간의 크기가 고정돼 증설/축소가 어렵다. -> 이 떄 LVM 사용
- LVM은 파티션 대신 volume 이라는 단위로 저장 장치를 다룬다.
- 스토리지의 확장, 변경에 유연하며 크기를 변경할 때 기존 데이터의 이전이 필요하지 않다.
- 물리적 볼륨 (PV, Physical Volume)
  - 실제 디스크 장치를 분할한 파티션된 상태를 의미한다.
  - PV는 일정한 크기의 PE로 이뤄진다.
- 물리적 확장 (PE, Physical Extent)
  - PV를 구성하는 일정한 크기의 Block
  - 보통 1PE는 4MB에 해당한다.
  - PE와 LE는 1:1로 대응한다.
- 논리적 범위 (LE, Logical Extent)
  - LE는 LVM이 논리적 저장공간을 가리키는 단위.
  - 기본 단위는 PE와 동일하다.
- 볼륨 그룹 (VG, Volume Group)
  - PV들이 모여서 생성되는 단위
  - 사용자는 VG를 원하는대로 쪼개서 LV로 만들게 된다.
- 논리적 볼륨 (LV, Logical Volume)
  - 사용자가 최종적으로 사용하는 단위로, VG에서 필요한 크기로 할당받아 LV를 생성한다.

## SSH, Secure SHell

- 원격 호스트에 접속하기 위해 사용되는 보안 프로토콜
- telnet이 암호화를 제공하지 않아 데이터 탈취 위협을 받았고 이를 보완하기 위해 SSH 사용
- 사용자와 서버는 각각의 키를 갖고 연결 상대를 인증하여 데이터를 주고 받는다.
- 비대칭키와 대칭키
  - 비대칭키
    - 키페어 생성 (공개키 id_rsa.pub + 개인키 id_rsa.pem)
    - 공개 키 서버에 전송 -> 서버는 이 공개키로 만들어진 랜덤한 값 생성 -> 사용자는 개인키를 이용해 복호화 -> 서버에 전송 (sha-256)
  - 대칭키
    - 인증 이후 데이터를 주고 받을 때 사용
    - 마찬가지로 주고 받는 데이터를 암호화 -> 데이터를 받은 쪽에서 대칭키를 이용해서 복호화

## UFW, Uncomplicated FireWall

- 데비안 계열 및 다양한 리눅스 환경에서 작동되는 사용하기 쉬운 방화벽 관리 프로그램

## TTY

- 디바이스 드라이브 중 콘솔이나 터미널을 의미

## Cron

- job scheduler 성격의 데몬 프로세스

  - crontab : cron 잡업을 설정하는 파일
  - <a href="http://www.cronmaker.com/;jsessionid=node03zlrim0j22lqwmln9rbecnfr491867.node0?0">cron maker</a>
  - cron 표현식

    - ```bash
      	*　　　　　　*　　　　　　*　　　　　　*　　　　　　*
      	분(0-59)　　시간(0-23)　일(1-31)　　월(1-12)　　　요일(0-7)

      	# 5일에서 6일까지 2시,3시,4시에 매 10분마다 test.sh 를 실행
      	*/10 2,3,4 5-6 * * /home/script/test.sh
      ```

    - 분
      - 범위 : 0 ~ 59
      - option : `, - /`
    - 시
      - 범위 : 0 ~ 23
      - option : `, - /`
    - 일
      - 범위 : 1 ~ 31
      - option : `, - ? L W`
    - 주
      - 범위 : 0 ~ 6 또는 SUN ~ SAT
      - option : `, - ? L #`
